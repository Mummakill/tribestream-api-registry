@import "variables"

@mixin code-style
  *
    font-family: "open sans", "Montserrat", Helvetica, Arial, sans-serif
  pre, code
    font-family: Consolas, "Liberation Mono", Courier, monospace
  h1, h2, h3, h4, h5, h6
    margin-top: 10px
    &:first-child
      margin-top: 10px
  p, th, td, pre, code
    font-size: 12px
    margin-bottom: 10px
  table
    width: 100%
    th, td
      padding: 5px
      text-align: left
  pre
    padding: 10px
  code
    border: 0
    padding: 0
    background-color: transparent
  pre, code
    max-width: 100%
    background-color: #eeeeee
  strong
    font-weight: bold

div[data-tribe-markdown-help]
  > div
    > div.markdown-help-wrapper
      display: none



.fixed-stretch
  position: fixed
  top: 0
  bottom: 0
  right: 0
  left: 0

div.markdown-help-wrapper
  z-index: 3000
  background-color: transparentize(black, .5)
  div.markdown-help-content
    border-radius: 5px
    overflow: hidden
    display: flex
    flex-direction: column
    margin: 20px 40px
    border: 1px solid #ccc
    div.markdown-help-content-body
      padding: 0 40px
      overflow: auto
      background-color: white
      @include code-style
    div.markdown-help-content-header
      background-color: #f5f5f5
      vertical-align: middle
      border-bottom: 1px solid #ccc
    div.markdown-help-content-footer
      background-color: #f5f5f5
      vertical-align: middle
      border-top: 1px solid #ccc
    a.close-link
      display: inline-block
      padding: 10px 0
      margin: 0 10px
      text-decoration: none
      &:hover
        text-decoration: underline
    h4.markdown-help-title
      margin: 5px 10px

div[data-tribe-markdown]
  display: inline-block
  div.CodeMirror, div.CodeMirror-scroll
    min-height: 30px
    max-height: 300px
  div.edit-icon
    opacity: 0
    display: flex
    flex-direction: column
    justify-content: center
    align-items: center
    padding: 0 5px
    background-color: #f5f5f5
    align-self: stretch
  div.preview
    display: flex
    > div:nth-of-type(1)
      padding: 10px
      min-height: 44px
      border: solid transparent 1px
      flex-grow: 1
      border-right: 0
      > *:last-child
        margin-bottom: 0
    &:hover
      div.edit-icon
        border-left: solid $app-input-border-color 1px
        opacity: 1
  div.value
    display: none
    > div
      border-color: transparent
    div.editor-toolbar
      border-bottom: solid $app-input-border-color 1px
  &.active
    display: block
    div.preview
      display: none
    div.value
      display: block
  div.main
    display: flex
    border: solid transparent 1px
    &:hover
      border-color: $app-input-border-color
    > div
      flex-grow: 1
      width: 50%
    &.sidebyside
      > div
        display: block
  &.active
    div.preview
      &:hover
        div.edit-icon
          opacity: 0
    div.main
      border-color: $app-input-border-color
      > div:last-of-type
        border-left: solid $app-input-border-color 1px
  div.preview > div.empty
    span
      font-style: italic
      color: $app-input-border-color
  div.preview > div[x-ng-bind-html], div.editor-preview
    max-width: 100%
    @include code-style
  > div.fullscreen
    background-color: #ffffff
    position: fixed
    z-index: 4000
    top: 0
    bottom: 0
    left: 0
    right: 0
    div.main
      min-height: 100vh